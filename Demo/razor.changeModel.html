<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <script src="../jquery-1.7.1.min.js"></script>
    <script src="../razor-tmpl.js"></script>
    <script>
        $(function () {
            var ViewBag = {};
            ViewBag.list = [
                { name: "zhang san", age: 18 },
                { name: 'li si', age: 19 },
                { name: 'wang wu', age: 20 }
            ];
            $("#test-btn-1").click(function () {
                $("#test1").renderToParent(ViewBag);
            });

            $("#test-btn-2").click(function () {
                razor.changeModelName("model");
                $("#test2").renderToParent(ViewBag);
            });
        });
    </script>
</head>
<body>
    <button id="test-btn-1">第一个</button>
    <button id="test-btn-2">第二个</button>
    <div>
        <div style="background-color:yellow;">
            <script type="text/template" id="test1">
                @{
                var hello = "hello world ...";
                //在代码里面可以用ViewBag
                var length=ViewBag.list.length;
                }

                ViewBag.list.length:@(ViewBag.list.length)
                @for(var i=0; i < length ;i++)
                {
                <div>name : @(ViewBag.list[i].name)</div>
                <div>age : @(ViewBag.list[i].age)</div>
                }
            </script>
        </div>

        <div style="background-color:cyan;">
            <script type="text/template" id="test2">
                @{
                var hello = "hello world ...";
                //在代码里面可以用ViewBag
                var length=model.list.length;
                }

                model.list.length:@(model.list.length)
                @for(var i=0; i < length ;i++)
                {
                <div>name : @(model.list[i].name)</div>
                <div>age : @(model.list[i].age)</div>
                }
            </script>
        </div>
    </div>
</body>
</html>
